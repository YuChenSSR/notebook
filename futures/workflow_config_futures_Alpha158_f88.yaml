qlib_init:
  provider_uri: "/home/idc2/notebook/futures/data/qlib_bin/cn_data_train"
  region: cn

# 只跑主力连续（*88），依赖 qlib_bin/instruments/f88.txt 已生成
market: &market f88

data_handler_config: &data_handler_config
  start_time: 2010-01-04
  end_time: 2025-12-12
  fit_start_time: 2010-01-04
  fit_end_time: 2024-06-30
  instruments: *market
  infer_processors:
    - class: RobustZScoreNorm
      kwargs:
        fields_group: feature
        clip_outlier: true
    - class: Fillna
      kwargs:
        fields_group: feature
  learn_processors:
    - class: DropnaLabel
      kwargs:
        fields_group: label
  label: ["Ref($adjclose, -5) / Ref($adjclose, -1) - 1"]

task:
  dataset:
    class: DatasetH
    module_path: qlib.data.dataset
    kwargs:
      handler:
        class: FuturesAlpha158
        module_path: futures.code.handler_futures_alpha158
        kwargs: *data_handler_config
      segments:
        train: [2010-01-04, 2024-06-30]
        valid: [2024-07-01, 2024-12-31]
        test: [2025-01-01, 2025-12-12]


